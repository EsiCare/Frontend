<app-frame title="History" class="flex-1" in_class="h-full flex flex-col overflow-hidden">


<div class="h-full mat-elevation-z8 overflow-y-scroll overflow-x-hidden flex flex-col">
  <table mat-table class="full-width-table" matSort aria-label="Elements">
    <ng-container matColumnDef="id">
      <th class="custom-text-gray" mat-header-cell *matHeaderCellDef mat-sort-header>Doctor</th>
      <td class="text-lg" mat-cell *matCellDef="let row">{{row.doctor}}</td>
    </ng-container>

    <ng-container matColumnDef="date">
      <th class="custom-text-gray" mat-header-cell *matHeaderCellDef mat-sort-header>Created On</th>
      <td class="text-lg" mat-cell *matCellDef="let row">{{row.date}}</td>
    </ng-container>

    <ng-container matColumnDef="duration">
      <th class="custom-text-gray" mat-header-cell *matHeaderCellDef mat-sort-header>Lasted For</th>
      <td class="text-lg" mat-cell *matCellDef="let row">{{row.lastedFor || '...'}}</td>
    </ng-container>


    <ng-container matColumnDef="sgph">
      <th class="custom-text-gray" mat-header-cell *matHeaderCellDef mat-sort-header>SGPH</th>
      <td class="text-lg" mat-cell *matCellDef="let row">
        <app-sgph-status [status]="'Completed'"> </app-sgph-status>
      </td>
    </ng-container>

    <ng-container matColumnDef="reason">
      <th class="custom-text-gray" mat-header-cell *matHeaderCellDef mat-sort-header>Reason</th>
      <td class="text-lg" mat-cell *matCellDef="let row">{{row.reason}}</td>
    </ng-container>

    <ng-container matColumnDef="actions" >
      <th mat-header-cell *matHeaderCellDef aria-label="row actions" class="w-2"> </th>
      <td class="text-lg relative" mat-cell *matCellDef="let row">
        <button (click)="showOptionsMenu(row.id)" (blur)="hideOptionsMenu($event)">
          <svg  
          class="cursor-pointer" width="18" height="20" viewBox="0 0 18 20" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M8.99868 13C7.34468 13 5.99867 11.654 5.99867 10C5.99867 8.346 7.34468 7 8.99868 7C10.6527 7 11.9987 8.346 11.9987 10C11.9987 11.654 10.6527 13 8.99868 13ZM16.5127 10.914C16.1857 10.723 15.9897 10.382 15.9897 10C15.9897 9.618 16.1857 9.277 16.5137 9.087C17.9317 8.262 18.4187 6.43 17.6007 5.001C17.2017 4.307 16.5587 3.811 15.7887 3.604C15.0227 3.401 14.2227 3.507 13.5367 3.906C13.2127 4.096 12.8257 4.096 12.4997 3.907C12.1697 3.718 11.9727 3.375 11.9727 2.992C11.9727 1.343 10.6387 0 8.99868 0C7.35768 0 6.02367 1.343 6.02367 2.992C6.02367 3.376 5.82667 3.718 5.49667 3.908C5.17267 4.094 4.78567 4.096 4.46167 3.906C3.77367 3.507 2.97467 3.399 2.20667 3.605C1.43667 3.812 0.794668 4.308 0.396668 5.002C-0.421332 6.431 0.0666678 8.263 1.48467 9.086C1.81167 9.276 2.00667 9.618 2.00667 10C2.00667 10.382 1.81167 10.724 1.48467 10.913C0.0666678 11.738 -0.421332 13.571 0.396668 14.999C0.794668 15.692 1.43667 16.188 2.20567 16.395C2.97267 16.6 3.77367 16.494 4.46167 16.095C4.78467 15.905 5.17167 15.905 5.49667 16.092C5.82667 16.282 6.02367 16.624 6.02367 17.008C6.02367 18.657 7.35768 20 8.99868 20C10.6387 20 11.9727 18.657 11.9727 17.008C11.9727 16.625 12.1697 16.282 12.4997 16.093C12.8247 15.905 13.2117 15.905 13.5367 16.095C14.2237 16.494 15.0237 16.598 15.7887 16.396C16.5587 16.189 17.2017 15.693 17.6007 14.999C18.4187 13.571 17.9317 11.739 16.5127 10.914Z"
            fill="#131313" />
        </svg>
       
        <div [class.options-menu]="row.id == optionMenuID"  class="absolute z-10 flex items-start    bg-white  hidden rounded border-2">
          <h1 (click)="onClickPreview(row)" class=" cursor-pointer hover:bg-gray-50 pt-1 px-2">Preview</h1>
          <div class="border-b-2 mx-2"></div>
          <h1  (click)="hideOptionsMenu($event)" class="close cursor-pointer hover:bg-gray-50 py-1 px-2">Close</h1>
        </div>
      </button>
       
  
      </td>

    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row class="!border-0" *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <mat-paginator #paginator [length]="dataSource?.data?.length" [pageIndex]="0" [pageSize]="10"
    [pageSizeOptions]="[5, 10, 20]" aria-label="Select page"
    class="AAAA flex flex-1 items-end justify-end"
    
    >
  </mat-paginator>
</div>

</app-frame>
